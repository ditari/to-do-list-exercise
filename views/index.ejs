<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/layout.css">
</head>
<body>
    <div class="container-fluid">
    <div class="row">    
    <div class="col-sm-6 col-md-4 col-lg-3" style="background-color: violet;">
        <h5>Monday</h5>
            
        <% weeks.monday.forEach((item) => { %>
        <div class="item">
            <form action="/delete" method="post">
                <input type="checkbox" onchange="this.form.submit()" name="delete_id" value="<%= item.id %>">
            </form>

            <div id="job<%=item.id%>" style="align-items: end; padding-left: 5px;"> <%= item.job %> </div>
            
            <button id="edit<%=item.id%>" onclick="editAppear('<%=item.id%>')" class="iconbutton">
                <img class="icon" src="/assets/pencil.svg" alt="pencil image"> </button>
            
            <form action="/edit" method = "post">
            <input type="hidden" name="edit_id" value="<%= item.id %>"">    
            <input id="newjob<%=item.id%>" type="text" hidden="true" name="newjob" value="<%=item.job%>"/>
            <button id="submitedit<%=item.id%>" type="submit" hidden="true" class="iconbutton">
                <img class="icon" src="/assets/check.svg" alt="checkmark"></button> 
            </form>    

            <button id="canceledit<%=item.id%>" onclick="editRemove('<%=item.id%>')" hidden="true" class="iconbutton">
                <img class="icon" src="/assets/x.svg" alt="wrong"></button>
        </div>
        <%  }); %> 
        
        <div class="item">
        <button id="buttonMonday" onclick="addAppear('Monday')" class="iconbutton">
            <img class="icon" src="/assets/plus.svg" alt="plus"> </button>    
        <div id="textMonday" style="align-items: end;">Add new task</div>
        </div>

        <form class="item" action="/add" method="post">
            <input id="newtaskMonday" type="text" hidden="true" name="newtask" />
            <input type="hidden" name="day" value="Monday">
            <button id="addMonday" type="submit" hidden="true" class="iconbutton">
                <img class="icon" src="/assets/check.svg" alt="checkmark"></button>
            <button id="cancelMonday" hidden="true" onclick="addRemove('Monday')" hidden="true" class="iconbutton">
                <img class="icon" src="/assets/x.svg" alt="wrong"></button>
        </form>


    </div>    
    <div class="col-sm-6 col-md-4 col-lg-3" style="background-color: blue;">
        Selasa
        <br>Text here 
        <br>Text here
        <br>Text here 
        <br>Text here
    </div>    
    <div class="col-sm-6 col-md-4 col-lg-3" style="background-color: yellow;">
        Rabu
        <br>Text here 
        <br>Text here
        <br>Text here 
        <br>Text here
    </div>    
    <div class="col-sm-6 col-md-4 col-lg-3" style="background-color: green;">
        Kamis
        <br>Text here 
        <br>Text here
        <br>Text here 
        <br>Text here
    </div>    

    <div class="col-sm-6 col-md-4 col-lg-3" style="background-color: black;">
        Jumat
        <br>Text here 
        <br>Text here
        <br>Text here 
        <br>Text here
    </div>    
    <div class="col-sm-6 col-md-4 col-lg-3" style="background-color: purple;">
        Sabtu
        <br>Text here 
        <br>Text here
        <br>Text here 
        <br>Text here
    </div>    
    <div class="col-sm-6 col-md-4 col-lg-3" style="background-color: gray;">
        Minggu
        <br>Text here 
        <br>Text here
        <br>Text here 
        <br>Text here
    </div>    
    <div class="col-sm-6 col-md-4 col-lg-3" style="background-color: orange;">
        Kontainer kosong
        <br>Text here 
        <br>Text here
        <br>Text here 
        <br>Text here
    </div>
    </div>    
</div>
    <script>
        function addAppear(day){
            document.getElementById("text" + day).setAttribute("hidden", true);
            document.getElementById("button" + day).setAttribute("hidden", true);
            document.getElementById("newtask" + day).removeAttribute("hidden");
            document.getElementById("add" + day).removeAttribute("hidden");
            document.getElementById("cancel"+day).removeAttribute("hidden");
        }

        function addRemove(){
            document.getElementById("text" + day).removeAttribute("hidden");
            document.getElementById("button" + day).removeAttribute("hidden");
            document.getElementById("newtask" + day).setAttribute("hidden", true);;
            document.getElementById("add" + day).setAttribute("hidden", true);
            document.getElementById("cancel"+day).setAttribute("hidden", true);
        }

        function editAppear(id){
            document.getElementById("job" + id).setAttribute("hidden", true);
            document.getElementById("edit" + id).setAttribute("hidden", true);
            document.getElementById("newjob" + id).removeAttribute("hidden");
            document.getElementById("submitedit"+id).removeAttribute("hidden");
            document.getElementById("canceledit"+id).removeAttribute("hidden");
        }

        function editRemove(id){
            document.getElementById("job" + id).removeAttribute("hidden");
            document.getElementById("edit" + id).removeAttribute("hidden");
            document.getElementById("newjob" + id).setAttribute("hidden", true);
            document.getElementById("submitedit"+id).setAttribute("hidden", true);
            document.getElementById("canceledit"+id).setAttribute("hidden", true);

        }

    </script>

</body>
</html>